{"ast":null,"code":"import'../styles/storagelistcard.css';import{useEffect,useState}from\"react\";import React from\"react\";import{dbService}from\"../firebase\";import{TiFolderOpen}from\"react-icons/ti\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const StorageListCard=_ref=>{let{onNext}=_ref;const[clicked,setClicked]=useState(-1);const[clickedIndex,setClickedIndex]=useState(0);const[list,setList]=useState(\"\");const handleClick=index=>{setClicked(prevIndex=>prevIndex!==index?index:-1);setClickedIndex(index);onNext(index);// if(handleNext()){\n//   onNext(index);\n// }\n};const handleNext=()=>{console.log(\"next\");//onNext(clickedIndex);\n};const getList=async()=>{const dbLists=await dbService.collection(\"jjalbang-storageName\").get();//  dbMenus.forEach((document) => {\n//   setMenus((prev) => [document.data(), ...prev]);\n// });\nconst fetchedLists=dbLists.docs.map(document=>document.data());setList(fetchedLists);};useEffect(()=>{getList();},[]);console.log(list);return/*#__PURE__*/_jsx(\"div\",{className:\"storage-list-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"storage-list\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"list-btns\",children:/*#__PURE__*/_jsx(\"button\",{className:\"storage-list-btn \".concat(clicked===0?'clicked':''),onClick:()=>handleClick(0),children:\"\\uC0C8 \\uC800\\uC7A5\\uC18C \\uCD94\\uAE30\"},0)}),list&&list.map((listItem,index)=>/*#__PURE__*/_jsx(\"button\",{className:\"storage-list-btn \".concat(clicked===index+1?'clicked':''),onClick:()=>handleClick(index+1),children:listItem.storageName},index+1)),/*#__PURE__*/_jsxs(\"div\",{className:\"next-btns\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"pre-btn\",children:\"\\uC774\\uC804\"}),/*#__PURE__*/_jsx(\"button\",{className:\"next-btn\",onClick:handleNext,children:\"\\uB2E4\\uC74C\"})]})]})});};export default StorageListCard;","map":{"version":3,"names":["useEffect","useState","React","dbService","TiFolderOpen","jsx","_jsx","jsxs","_jsxs","StorageListCard","_ref","onNext","clicked","setClicked","clickedIndex","setClickedIndex","list","setList","handleClick","index","prevIndex","handleNext","console","log","getList","dbLists","collection","get","fetchedLists","docs","map","document","data","className","children","concat","onClick","listItem","storageName"],"sources":["/Users/jiyeong/WebstormProjects/jjalbang/src/components/StorageListCard.js"],"sourcesContent":["import '../styles/storagelistcard.css';\nimport {useEffect, useState} from \"react\";\nimport React from \"react\";\nimport {dbService} from \"../firebase\";\nimport {TiFolderOpen} from \"react-icons/ti\";\nconst StorageListCard = ({ onNext }) => {\n  const [clicked, setClicked] = useState(-1);\n  const [clickedIndex, setClickedIndex] = useState(0);\n  const [list, setList] = useState(\"\");\n\n  const handleClick = (index) => {\n    setClicked((prevIndex) => prevIndex !== index ? index : -1);\n    setClickedIndex(index);\n    onNext(index);\n    // if(handleNext()){\n    //   onNext(index);\n    // }\n  };\n\n  const handleNext = () => {\n    console.log(\"next\");\n    //onNext(clickedIndex);\n  }\n\n  const getList = async () => {\n    const dbLists = await dbService.collection(\"jjalbang-storageName\").get();\n    //  dbMenus.forEach((document) => {\n    //   setMenus((prev) => [document.data(), ...prev]);\n    // });\n    const fetchedLists = dbLists.docs.map(document => document.data());\n    setList(fetchedLists);\n  };\n\n  useEffect(() => {\n    getList();\n  }, []);\n\n  console.log(list);\n\n  return (\n    <div className=\"storage-list-container\">\n      <div className=\"storage-list\">\n        <div className=\"list-btns\">\n          <button className={`storage-list-btn ${clicked === 0 ? 'clicked' : ''}`}\n                  key={0}\n                  onClick={() => handleClick(0)}>새 저장소 추기</button>\n        </div>\n        {list && list.map((listItem, index) => (\n          <button className={`storage-list-btn ${clicked === index+1 ? 'clicked' : ''}`}\n                  key={index+1}\n                  onClick={() => handleClick(index+1)}>\n            {listItem.storageName}\n          </button>\n        ))}\n        <div className=\"next-btns\">\n          <button className=\"pre-btn\">이전</button>\n          <button className=\"next-btn\" onClick={handleNext}>다음</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default StorageListCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}